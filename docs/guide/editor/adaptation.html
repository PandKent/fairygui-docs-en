
<!DOCTYPE html>
<html lang="en">
    <head>
    
        <title>FairyGUI - Adaptation</title>
    
        <meta charset="utf-8">
        <meta name="description" content="FairyGUI - Professional UI editor, cross-platform UI solution">
        <meta name="keywords" content="FairyGUI,FGUI,UI Editor,Unity GUI,Pixi GUI,Haxe GUI,Starling GUI,CryEngine UI,Havok Vision,Project Anarchy,C++ UI,MonoGame UI,Cocos Creator,Corona">
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <meta property="og:type" content="article">
        <meta property="og:title" content="Adaptation — FairyGUI">
        <meta property="og:description" content="FairyGUI - Professional UI editor, cross-platform UI solution">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="Adaptation — FairyGUI">
        <meta name="twitter:description" content="FairyGUI - Professional UI editor, cross-platform UI solution">


        <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>

        <!-- main page styles -->
        <link rel="stylesheet" href="/css/page.css">

        <!-- this needs to be loaded before guide's inline scripts -->
        <script src="/js/vue.min.js"></script>
        <script>window.PAGE_TYPE = "guide_editor"</script>
    </head>
    <body class="docs">        <div id="mobile-bar"  data-bg-text="FairyGUI" >
            <a class="menu-button"></a>
            <a class="logo" href="https://github.com/fairygui/FairyGUI-unity"></a>
        </div>
        <div id="bg"> <!--end tag in the `index.ejs`-->

<div id="header">
  <a id="logo" href="https://github.com/fairygui/">
    <img src="/images/github-white.png">
  </a>
  <ul id="nav">
    

	<li><a href="/" class="nav-link">Home</a></li>

<li><a href="/product/" class="nav-link">Product</a></li>
<li><a href="/service/" class="nav-link">Service</a></li>
<li><a href="/guide/" class="nav-link current">Tutorials</a></li>
<li><a href="http://www.fairygui.com/api/" target="_blank"  class="nav-link">API</a></li>
<li><a href="/examples/" class="nav-link">Demo</a></li>
<li><a href="/showcase/" class="nav-link">Showcase</a></li>
<li><a href="http://ask.fairygui.com/" target="_blank" class="nav-link">Q&A</a></li>
<li><a href="/about/" class="nav-link">About</a></li>
<li><a href="http://www.fairygui.com/" target="_self"  class="nav-link">中文</a><a class="nav-link"> / English</a></li>
  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    
    <div class="sidebar">
    <ul class="main-menu">
        

	<li><a href="/" class="nav-link">Home</a></li>

<li><a href="/product/" class="nav-link">Product</a></li>
<li><a href="/service/" class="nav-link">Service</a></li>
<li><a href="/guide/" class="nav-link current">Tutorials</a></li>
<li><a href="http://www.fairygui.com/api/" target="_blank"  class="nav-link">API</a></li>
<li><a href="/examples/" class="nav-link">Demo</a></li>
<li><a href="/showcase/" class="nav-link">Showcase</a></li>
<li><a href="http://ask.fairygui.com/" target="_blank" class="nav-link">Q&A</a></li>
<li><a href="/about/" class="nav-link">About</a></li>
<li><a href="http://www.fairygui.com/" target="_self"  class="nav-link">中文</a><a class="nav-link"> / English</a></li>
    </ul>
    <div class="list">
		<a class="become-backer" href="/about/donate.html">
            Donate
        </a>
        <h2>
            Guide
            <!--<select class="version-select">
                <option value="SELF" selected>editor</option>
            </select>-->
 		 
		  
		
        </h2>
        <ul class="menu-root">
            

	 			
	                
	                <li>
	                    <a href="/guide/index.html" class="sidebar-link">Introduction</a>
	                </li>
	            
	
	            
	                
	                <li>
	                    <a href="/guide/editor/index.html" class="sidebar-link">Editor Start</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/object.html" class="sidebar-link">Object</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/image.html" class="sidebar-link">Image</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/movieclip.html" class="sidebar-link">MovieClip</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/graph.html" class="sidebar-link">Graph</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/loader.html" class="sidebar-link">Loader</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/text.html" class="sidebar-link">Text</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/richtext.html" class="sidebar-link">RichText</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/group.html" class="sidebar-link">Group</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/component.html" class="sidebar-link">Component</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/scrollpane.html" class="sidebar-link">ScrollPane</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/controller.html" class="sidebar-link">Controller</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/relation.html" class="sidebar-link">Relation System</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/label.html" class="sidebar-link">Label</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/button.html" class="sidebar-link">Button</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/combobox.html" class="sidebar-link">ComboBox</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/progressbar.html" class="sidebar-link">ProgressBar</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/slider.html" class="sidebar-link">Slider</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/scrollbar.html" class="sidebar-link">ScrollBar</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/list.html" class="sidebar-link">List</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/window.html" class="sidebar-link">Window</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/popup.html" class="sidebar-link">Popup</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/dragdrop.html" class="sidebar-link">Drag&Drop</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/transition.html" class="sidebar-link">Transition</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/adaptation.html" class="sidebar-link current">Adaptation</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/upgrade_binary_format.html" class="sidebar-link">Binary Package Format</a>
	                </li>
	            
	
	            
	                
	                
	                <li><h3>SDK</h3></li>
	                
	                <li>
	                    <a href="/guide/sdk/laya.html" class="sidebar-link">LayaAir</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/sdk/egret.html" class="sidebar-link">Egret</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/sdk/cocos2dx.html" class="sidebar-link">Cocos2dx</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/sdk/creator.html" class="sidebar-link">Cocos Creator</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/sdk/cryengine.html" class="sidebar-link">Cry Engine</a>
	                </li>
	            

	            
	                
	                
	                <li><h3>SDK - Unity</h3></li>
	                
	                <li>
	                    <a href="/guide/unity/index.html" class="sidebar-link">Unity Start</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/transform.html" class="sidebar-link">Unity Coordinate</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/atlas.html" class="sidebar-link">Atlas</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/font.html" class="sidebar-link">Font Handling</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/input.html" class="sidebar-link">Input processing</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/event.html" class="sidebar-link">Event System</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/insert3d.html" class="sidebar-link">Interspersed with 3D objects</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/uipainter.html" class="sidebar-link">Curved UI</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/drawcall.html" class="sidebar-link">DrawCall Optimization</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/lua.html" class="sidebar-link">Used in Lua</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/special.html" class="sidebar-link">Unity Features</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/faq.html" class="sidebar-link">Unity FAQ</a>
	                </li>
	            

            
        </ul>
    </div>
</div>


<div class="content guide_editor with-sidebar ">
    
      <h1>Adaptation</h1>
    
    <p>FairyGUI provides a UI adaptation strategy that automatically adapts to the resolution of various devices for mobile game development, which means that developers only need to make a set of UIs to adapt to all device resolutions.</p>
<h2 id="Design-Resolution-and-Device-Resolution"><a href="#Design-Resolution-and-Device-Resolution" class="headerlink" title="Design Resolution and Device Resolution"></a>Design Resolution and Device Resolution</h2><p>Usually we choose a fixed resolution for UI design and production. This resolution is called “design resolution”. For example, 1136×640 and 1280×720 are relatively common design resolutions. When a design resolution is selected, the size of the largest UI interface (usually the fullscreen interface) is limited to this resolution.<br>The resolution of the device at runtime is called the “device resolution”. This resolution isn’t necessarily the same as the design resolution. You need to display the UI interface to the screen with a certain scale.</p>
<h2 id="Global-Scale"><a href="#Global-Scale" class="headerlink" title="Global Scale"></a>Global Scale</h2><p><em>（Egret/Laya/Cocos2dx does not use the global scale provided by FairyGUI，You need to use their own global scaling strategy, please ignore this section. Reference material:<a href="http://developer.egret.com/cn/2d/screenAdaptation/explanation" target="_blank" rel="external">Egret</a> <a href="https://ldc.layabox.com/doc/?nav=zh-as-1-8-0" target="_blank" rel="external">LayaAir</a></em></p>
<p>When the design resolution and device resolution are inconsistent, the first thing to do is global scaling. This global scale is transparent to the inside of the UI, which means that all UI interfaces don’t need to worry about the existence of this scale. For example, if the overall size is doubled and the size of a window is 400×400 pixels, the window size that will eventually be displayed to the screen will be 800×800 pixels, but if you read the width and height of this window, it will still return 400×400. All internal coordinates won’t change.</p>
<p>The way to set global scale is:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">GRoot.inst.SetContentScaleFactor(<span class="number">1136</span>，<span class="number">640</span>，ScreenMatchMode.MatchWidthOrHeight);</div></pre></td></tr></table></figure>
<p>Here 1136 and 640 are the width and height of the design resolution. <code>ScreenMatchMode</code> defines the adaptation mode. The available constants are:</p>
<ul>
<li><p><code>MatchWidthOrHeight</code> Scale up and down with a smaller ratio. For example, if the design resolution is 960x640 and the device resolution is 1280×720, then the ratio of the width can be 1280/960=1.33, the ratio of the height is 720/640=1.125, and finally the smaller 1.125 is used as the global zoom. coefficient. This way of scaling ensures that the content is always on the screen after it has been scaled, and it may leave edges, but it won’t go beyond the screen.</p>
</li>
<li><p><code>MatchWidth</code> Scale using a fixed width. The height may exceed the screen.</p>
</li>
<li><p><code>MatchHeight</code> Scale using a fixed height. The width may exceed the screen.</p>
</li>
</ul>
<p>In the Unity version, in addition to using the API to set global scaling, a Unity component is also provided: <code>UIContentScaler</code>. Just hang the <code>UIContentScaler</code> component on any <code>GameObject</code> in the startup scene. You don’t need to hang every scene. Refer to <a href="#../unity/index.html#UIContentScaler">here</a>.</p>
<h2 id="Logical-Screen-Size"><a href="#Logical-Screen-Size" class="headerlink" title="Logical Screen Size"></a>Logical Screen Size</h2><p>The screen size after global scaling is the “logical screen size”. In the above example, the device resolution is 1280×720, and the global scaling factor is 1.125, then the logical screen size is (1280/1.125=1138, 720/1.125=640)= 1138x640 . The size of the <code>GRoot</code> UI root component always fills the “logical screen”. The size of the logical screen can be obtained by <code>GRoot.inst.width</code> and <code>GRoot.inst.height</code>.</p>
<h2 id="Fullscreen-Interface-Adaptation"><a href="#Fullscreen-Interface-Adaptation" class="headerlink" title="Fullscreen Interface Adaptation"></a>Fullscreen Interface Adaptation</h2><p>After global scaling, most UIs don’t need to be adjusted. With one exception, they are designed to be full-screen. In the above example, at the design resolution, the size of the full-screen interface is 960x640, and we also design full-screen components by this size. After global scaling, the size of the logical screen becomes 1138x640, and the size is inconsistent. At this point we need to resize the component to make it full.</p>
<p>If you’re using <code>UIPanel</code>, then setting the <code>Fit Screen</code> to <code>Fit Size</code> on the Inspector is fine; if it’s a dynamically created UI, you can use the API:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Set the component to fullscreen, that is, the size and logical screen size are the same.</span></div><div class="line"><span class="comment">// The inside of the component should be handled in association with the size change.</span></div><div class="line">aComponent.SetSize(GRoot.inst.width, GRoot.inst.height);</div><div class="line"><span class="comment">// Or, a more concise way</span></div><div class="line">aComponent.MakeFullScreen();</div></pre></td></tr></table></figure>
<p>一In general, the screen size won’t change after the mobile game starts. But if you’re developing a desktop game, or a game that supports horizontal and vertical screen switching (the screen size will change), then the fullscreen interface needs to add a constraint on the screen size, ie.:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">aComponent.AddRelation(GRoot.inst, RelationType.Size);</div></pre></td></tr></table></figure>
<p>Of course, this is just one way to handle a fullscreen interface. In some cases, for example, if you select the <code>MatchHeight</code> mode, which is a high-priority adaptation method, this method ensures that the vertical direction of the UI interface is always full, and the horizontal direction may exceed the screen. This kind of adaptation requires the designer to have a “safe area” design and to think in those terms (like not being able to arrange content beyond the screen). For example, center the fullscreen interface and sacrifice the content on both sides:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">aComponent.x = (GRoot.inst.width – aComponent.width)/<span class="number">2</span>;</div></pre></td></tr></table></figure>
<p>In this way, the left and right edges will be cropped off by the edge of the screen, which requires the designer to take this into account when designing.</p>
<h2 id="Automatically-Adjust-UI-Layout"><a href="#Automatically-Adjust-UI-Layout" class="headerlink" title="Automatically Adjust UI Layout"></a>Automatically Adjust UI Layout</h2><p>The full-screen component needs to be reset to fullscreen during the adaptation process, and the component size will change. In this case, the associated system needs to be used to automatically lay out the elements in the component in the correct position. Examples can be referred to at <a href="relation.html#instanceresolution">association system</a>.</p>

    
    <div class="footer">
      found mistake? Want to participate in editing?
      <a href="https://github.com/fairygui/en.fairygui.io/tree/master/src/guide/editor/adaptation.md" target="_blank">
        Edit this page on Github!
      </a>
    </div>
</div>

                
            </div>
            <script src="/js/smooth-scroll.min.js"></script>
        

        <!-- main custom script for sidebars, version selects etc. -->        
        <script src="/js/css.escape.js"></script>
        <script src="/js/common.js"></script>
    </body>
</html>
