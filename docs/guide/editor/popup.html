
<!DOCTYPE html>
<html lang="en">
    <head>
    
        <title>FairyGUI - Popup</title>
    
        <meta charset="utf-8">
        <meta name="description" content="FairyGUI - Professional UI editor, cross-platform UI solution">
        <meta name="keywords" content="FairyGUI,FGUI,UI Editor,Unity GUI,Pixi GUI,Haxe GUI,Starling GUI,CryEngine UI,Havok Vision,Project Anarchy,C++ UI,MonoGame UI,Cocos Creator,Corona">
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <meta property="og:type" content="article">
        <meta property="og:title" content="Popup — FairyGUI">
        <meta property="og:description" content="FairyGUI - Professional UI editor, cross-platform UI solution">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="Popup — FairyGUI">
        <meta name="twitter:description" content="FairyGUI - Professional UI editor, cross-platform UI solution">


        <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>

        <!-- main page styles -->
        <link rel="stylesheet" href="/css/page.css">

        <!-- this needs to be loaded before guide's inline scripts -->
        <script src="/js/vue.min.js"></script>
        <script>window.PAGE_TYPE = "guide_editor"</script>
    </head>
    <body class="docs">        <div id="mobile-bar"  data-bg-text="FairyGUI" >
            <a class="menu-button"></a>
            <a class="logo" href="https://github.com/fairygui/FairyGUI-unity"></a>
        </div>
        <div id="bg"> <!--end tag in the `index.ejs`-->

<div id="header">
  <a id="logo" href="https://github.com/fairygui/">
    <img src="/images/github-white.png">
  </a>
  <ul id="nav">
    

	<li><a href="/" class="nav-link">Home</a></li>

<li><a href="/product/" class="nav-link">Product</a></li>
<li><a href="/service/" class="nav-link">Service</a></li>
<li><a href="/guide/" class="nav-link current">Tutorials</a></li>
<li><a href="http://www.fairygui.com/api/" target="_blank"  class="nav-link">API</a></li>
<li><a href="/examples/" class="nav-link">Demo</a></li>
<li><a href="/showcase/" class="nav-link">Showcase</a></li>
<li><a href="http://ask.fairygui.com/" target="_blank" class="nav-link">Q&A</a></li>
<li><a href="/about/" class="nav-link">About</a></li>
<li><a href="http://www.fairygui.com/" target="_self"  class="nav-link">中文</a><a class="nav-link"> / English</a></li>
  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    
    <div class="sidebar">
    <ul class="main-menu">
        

	<li><a href="/" class="nav-link">Home</a></li>

<li><a href="/product/" class="nav-link">Product</a></li>
<li><a href="/service/" class="nav-link">Service</a></li>
<li><a href="/guide/" class="nav-link current">Tutorials</a></li>
<li><a href="http://www.fairygui.com/api/" target="_blank"  class="nav-link">API</a></li>
<li><a href="/examples/" class="nav-link">Demo</a></li>
<li><a href="/showcase/" class="nav-link">Showcase</a></li>
<li><a href="http://ask.fairygui.com/" target="_blank" class="nav-link">Q&A</a></li>
<li><a href="/about/" class="nav-link">About</a></li>
<li><a href="http://www.fairygui.com/" target="_self"  class="nav-link">中文</a><a class="nav-link"> / English</a></li>
    </ul>
    <div class="list">
		<a class="become-backer" href="/about/donate.html">
            Donate
        </a>
        <h2>
            Guide
            <!--<select class="version-select">
                <option value="SELF" selected>editor</option>
            </select>-->
 		 
		  
		
        </h2>
        <ul class="menu-root">
            

	 			
	                
	                <li>
	                    <a href="/guide/index.html" class="sidebar-link">Introduction</a>
	                </li>
	            
	
	            
	                
	                <li>
	                    <a href="/guide/editor/index.html" class="sidebar-link">Editor Start</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/object.html" class="sidebar-link">Object</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/image.html" class="sidebar-link">Image</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/movieclip.html" class="sidebar-link">MovieClip</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/graph.html" class="sidebar-link">Graph</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/loader.html" class="sidebar-link">Loader</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/text.html" class="sidebar-link">Text</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/richtext.html" class="sidebar-link">RichText</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/group.html" class="sidebar-link">Group</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/component.html" class="sidebar-link">Component</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/scrollpane.html" class="sidebar-link">ScrollPane</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/controller.html" class="sidebar-link">Controller</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/relation.html" class="sidebar-link">Relation System</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/label.html" class="sidebar-link">Label</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/button.html" class="sidebar-link">Button</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/combobox.html" class="sidebar-link">ComboBox</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/progressbar.html" class="sidebar-link">ProgressBar</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/slider.html" class="sidebar-link">Slider</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/scrollbar.html" class="sidebar-link">ScrollBar</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/list.html" class="sidebar-link">List</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/window.html" class="sidebar-link">Window</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/popup.html" class="sidebar-link current">Popup</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/dragdrop.html" class="sidebar-link">Drag&Drop</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/transition.html" class="sidebar-link">Transition</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/adaptation.html" class="sidebar-link">Adaptation</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/upgrade_binary_format.html" class="sidebar-link">Binary Package Format</a>
	                </li>
	            
	
	            
	                
	                
	                <li><h3>SDK</h3></li>
	                
	                <li>
	                    <a href="/guide/sdk/laya.html" class="sidebar-link">LayaAir</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/sdk/egret.html" class="sidebar-link">Egret</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/sdk/cocos2dx.html" class="sidebar-link">Cocos2dx</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/sdk/creator.html" class="sidebar-link">Cocos Creator</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/sdk/cryengine.html" class="sidebar-link">Cry Engine</a>
	                </li>
	            

	            
	                
	                
	                <li><h3>SDK - Unity</h3></li>
	                
	                <li>
	                    <a href="/guide/unity/index.html" class="sidebar-link">Unity Start</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/transform.html" class="sidebar-link">Unity Coordinate</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/atlas.html" class="sidebar-link">Atlas</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/font.html" class="sidebar-link">Font Handling</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/input.html" class="sidebar-link">Input processing</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/event.html" class="sidebar-link">Event System</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/insert3d.html" class="sidebar-link">Interspersed with 3D objects</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/uipainter.html" class="sidebar-link">Curved UI</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/drawcall.html" class="sidebar-link">DrawCall Optimization</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/lua.html" class="sidebar-link">Used in Lua</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/special.html" class="sidebar-link">Unity Features</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/faq.html" class="sidebar-link">Unity FAQ</a>
	                </li>
	            

            
        </ul>
    </div>
</div>


<div class="content guide_editor with-sidebar ">
    
      <h1>Popup</h1>
    
    <p>In the UI system we often need to pop up some components that will automatically disappear when the user clicks on a blank place. FairyGUI has this feature built-in.</p>
<h2 id="Popup-Management"><a href="#Popup-Management" class="headerlink" title="Popup Management"></a>Popup Management</h2><p>The show and close APIs for <code>Popup</code> are available in <code>GRoot</code>.</p>
<ul>
<li><code>ShowPopup</code> pops up a component. If a target is specified, the pop-up position is adjusted below the target to form a drop-down effect. At the same time, parameters are provided to specify whether to pop up or pop down. FairyGUI automatically calculates the pop-up position based on the size of the component to ensure that the component display doesn’t exceed the screen. E.g:</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Pop up at the current mouse position</span></div><div class="line">GRoot.inst.ShowPopup(aComponent);</div><div class="line"></div><div class="line"><span class="comment">// Pop up under the aButton</span></div><div class="line">GRoot.inst.ShowPopup(aComponent, aButton);</div><div class="line"></div><div class="line"><span class="comment">// Pop up in a custom location</span></div><div class="line">GRoot.inst.ShowPopup(aComponent);</div><div class="line">aComponent.SetXY(<span class="number">100</span>, <span class="number">100</span>);</div></pre></td></tr></table></figure>
<p>The window can also be popped up via <code>ShowPopup</code>, so that the pop-up window also has the feature of clicking the blank to close:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">Window aWindow;</div><div class="line">GRoot.inst.ShowPopup(aWindow);</div><div class="line"></div><div class="line"><span class="comment">// The only difference between using the aWindow.Show display window is that there is more click-to-blank off functionality. There is no difference in other usages.</span></div></pre></td></tr></table></figure>
<ul>
<li><code>HidePopup</code> By default, when a user clicks on a blank space, the pop-up component is automatically closed. You can also call this API to close it manually. You can specify the <code>Popup</code> that needs to be closed. When no parameters are specified, all current popups are closed.</li>
</ul>
<p>After clicking in the blank space, the popup will automatically close. If you want to get this notification of closing, you can listen to events that move out of the stage, for example:</p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Unity/Cry</span></div><div class="line">aComponent.onRemoveFromStage.Add(onPopupClosed);</div><div class="line"></div><div class="line"><span class="comment">// AS3</span></div><div class="line">aComponent.addEventListener(Event.REMOVED_FROM_STAGE, onPopupClosed);</div><div class="line"></div><div class="line"><span class="comment">// Egret</span></div><div class="line">aComponent.addEventListener(egret.Event.REMOVED_FROM_STAGE, <span class="keyword">this</span>.onPopupClosed, <span class="keyword">this</span>);</div><div class="line"></div><div class="line"><span class="comment">// Laya</span></div><div class="line">aComponent.<span class="keyword">on</span>(laya.events.Event.UNDISPLAY, <span class="keyword">this</span>, <span class="keyword">this</span>.onPopupClosed);</div><div class="line"></div><div class="line"><span class="comment">// Cocos2dx</span></div><div class="line">aComponent-&gt;addEventListener(UIEventType::Exit, CC_CALLBACK_1(AClass::onPopupClosed, this));</div></pre></td></tr></table></figure>
<h2 id="PopupMenu"><a href="#PopupMenu" class="headerlink" title="PopupMenu"></a>PopupMenu</h2><p><code>PopupMenu</code> is a tool class provided by FairyGUI for implementing pop-up menus. First you need to make a menu component in the editor. Click on <code>&quot;Resources -&gt; New Popup Menu...&quot;</code> and follow the wizard. The key element in the menu component is the list component named <code>list</code>. The overflow processing mode of the list should be selected to be visible, because in general, the menus display all items and do not need to be scrolled.</p>
<p>Once the menu component is created, it can be generated and called in the code.</p>
<p>First set the global menu resources:<br><figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">UIConfig.popupMenu = <span class="string">"ui://PackageName/MenuComponentName"</span>;</div><div class="line"></div><div class="line"><span class="comment">// If there is a menu divider</span></div><div class="line">UIConfig.popupMenu_seperator = <span class="string">"ui://PackageName/MenuDivider"</span>;</div></pre></td></tr></table></figure></p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="comment">// If the constructor takes no arguments, it means using the resources defined in UIConfig.popupMenu.</span></div><div class="line">    <span class="comment">// can also take a parameter, specify the menu component resources used by this menu</span></div><div class="line">PopupMenu menu = <span class="keyword">new</span> PopupMenu();</div><div class="line"></div><div class="line"><span class="comment">// Modifying the menu width</span></div><div class="line">menu.contentPane.width = <span class="number">300</span>;</div><div class="line"></div><div class="line"><span class="comment">// Add a menu item and register the click callback function</span></div><div class="line">GButton item = menu.AddItem(<span class="string">"标题"</span>, MenuItemCallback);</div><div class="line">item.name = <span class="string">"item1"</span>;</div><div class="line"></div><div class="line"><span class="comment">// Click on the callback function, context.data is the currently clicked item</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">MenuItemCallback</span>(<span class="params">EventContext context</span>)</span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    GButton item = GButton(context.data);</div><div class="line">    Debug.Log(item.name);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Add divider</span></div><div class="line">menu.AddSeperator();</div><div class="line"></div><div class="line"><span class="comment">// Setting menu items are grayed out</span></div><div class="line">menu.SetItemGrayed(<span class="string">"item1"</span>, <span class="literal">true</span>);</div></pre></td></tr></table></figure>
    
    <div class="footer">
      found mistake? Want to participate in editing?
      <a href="https://github.com/fairygui/en.fairygui.io/tree/master/src/guide/editor/popup.md" target="_blank">
        Edit this page on Github!
      </a>
    </div>
</div>

                
            </div>
            <script src="/js/smooth-scroll.min.js"></script>
        

        <!-- main custom script for sidebars, version selects etc. -->        
        <script src="/js/css.escape.js"></script>
        <script src="/js/common.js"></script>
    </body>
</html>
