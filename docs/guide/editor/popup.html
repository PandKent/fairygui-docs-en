
<!DOCTYPE html>
<html lang="en">
    <head>
    
        <title>FairyGUI - Popup</title>
    
        <meta charset="utf-8">
        <meta name="description" content="FairyGUI Docs">
        <meta name="keywords" content="FairyGUI,FGUI,FairyGUI Docs">
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <meta property="og:type" content="article">
        <meta property="og:title" content="-PopupFairyGUI">
        <meta property="og:description" content="FairyGUI Docs">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="Popup â€” FairyGUI">
        <meta name="twitter:description" content="FairyGUI Docs">

      <!--  <link href='//fonts.proxy.ustclug.org/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'> -->

        <!-- main page styles -->
        <link rel="stylesheet" href="/docs/css/page.css">

        <!-- this needs to be loaded before guide's inline scripts -->
        <script src="/docs/js/vue.min.js"></script>
        <script>window.PAGE_TYPE = "guide_editor"</script>
    </head>
    <body class="docs">        <div id="mobile-bar"  data-bg-text="FairyGUI" >
            <a class="menu-button"></a>
        </div>
        <div id="header">
  <ul id="nav">
    <li><a href="/docs/guide/" class="nav-link current">Manual</a></li>
<li><a href="/docs/examples/" class="nav-link">Examples</a></li>
<li><a href="/docs/release_notes/" class="nav-link">Release Notes</a></li>
<li><a href="/" class="nav-link">Home</a></li>
  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    
    <div class="sidebar">
    <ul class="main-menu">
        <li><a href="/docs/guide/" class="nav-link current">Manual</a></li>
<li><a href="/docs/examples/" class="nav-link">Examples</a></li>
<li><a href="/docs/release_notes/" class="nav-link">Release Notes</a></li>
<li><a href="/" class="nav-link">Home</a></li>
    </ul>
    <div class="list">
        <ul class="menu-root">
            

	 			
	                
	                <li>
	                    <a href="/docs/guide/index.html" class="sidebar-link">Getting Start</a>
	                </li>
	            
	
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/index.html" class="sidebar-link">Basis</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/project_settings.html" class="sidebar-link">Project Settings</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/package.html" class="sidebar-link">Package</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/branch.html" class="sidebar-link">Branch</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/publish.html" class="sidebar-link">Publish</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/object.html" class="sidebar-link">Object</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/image.html" class="sidebar-link">Image</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/movieclip.html" class="sidebar-link">MovieClip</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/graph.html" class="sidebar-link">Graph</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/loader.html" class="sidebar-link">Loader</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/text.html" class="sidebar-link">Text</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/richtext.html" class="sidebar-link">Rich Text</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/group.html" class="sidebar-link">Group</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/component.html" class="sidebar-link">Component</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/scrollpane.html" class="sidebar-link">ScrollPane</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/controller.html" class="sidebar-link">Controller</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/relation.html" class="sidebar-link">Relation</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/label.html" class="sidebar-link">Label</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/button.html" class="sidebar-link">Button</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/combobox.html" class="sidebar-link">ComboBox</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/progressbar.html" class="sidebar-link">ProgressBar</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/slider.html" class="sidebar-link">Slider</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/scrollbar.html" class="sidebar-link">ScrollBar</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/list.html" class="sidebar-link">List</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/tree.html" class="sidebar-link">Tree</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/popup.html" class="sidebar-link current">Popup</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/dragdrop.html" class="sidebar-link">Drag&Drop</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/window.html" class="sidebar-link">Window</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/transition.html" class="sidebar-link">Transition</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/adaptation.html" class="sidebar-link">Adaptation</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/i18n.html" class="sidebar-link">i18n</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/export.html" class="sidebar-link">Import/Export</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/preference.html" class="sidebar-link">Preference</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/plugin.html" class="sidebar-link">Plugin</a>
	                </li>
	            
	
	            
	                
	                
	                <li><h3>SDK</h3></li>
	                
	                <li>
	                    <a href="/docs/guide/sdk/laya.html" class="sidebar-link">LayaAir</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/sdk/egret.html" class="sidebar-link">Egret</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/sdk/cocos2dx.html" class="sidebar-link">Cocos2dx</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/sdk/creator.html" class="sidebar-link">Cocos Creator</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/sdk/cryengine.html" class="sidebar-link">Cry Engine</a>
	                </li>
	            

	            
	                
	                
	                <li><h3>SDK - Unity</h3></li>
	                
	                <li>
	                    <a href="/docs/guide/unity/index.html" class="sidebar-link">Basis</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/transform.html" class="sidebar-link">Transform</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/atlas.html" class="sidebar-link">Atlas</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/font.html" class="sidebar-link">Fonts</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/input.html" class="sidebar-link">Input</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/event.html" class="sidebar-link">Event</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/insert3d.html" class="sidebar-link">Insert 3D</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/uipainter.html" class="sidebar-link">Curved UI</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/drawcall.html" class="sidebar-link">DrawCall</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/lua.html" class="sidebar-link">Lua</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/special.html" class="sidebar-link">Special</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/faq.html" class="sidebar-link">FAQ</a>
	                </li>
	            

            
        </ul>
    </div>
</div>


<div class="content guide_editor with-sidebar ">
    
      <h1>Popup</h1>
    
    <p>In the UI system, we often need to pop up some components, and these components will automatically disappear when the user clicks on a blank space. FairyGUI has this feature built in.</p>
<h2 id="Popup management"><a class="header-anchor" href="#Popup management">Â¶</a> Popup management</h2>
<p>The API to pop and close Popup is provided in GRoot.</p>
<ul>
<li>
<p><code>ShowPopup</code>Pop up a component. If a target is specified, the pop-up position will be adjusted below the target, forming a drop-down effect. Parameters are also provided to specify whether to pop up or pop down. FairyGUI automatically calculates the pop-up position based on the size of the component to ensure that the component display does not exceed the screen. E.g:</p>
 <figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="comment">// popup at current mouse position</span></div><div class="line">Â Â Â Â GRoot.inst.ShowPopup (aComponent);</div><div class="line"></div><div class="line">Â Â Â Â <span class="comment">// pop up below aButton</span></div><div class="line">Â Â Â Â GRoot.inst.ShowPopup (aComponent, aButton);</div><div class="line"></div><div class="line">Â Â Â Â <span class="comment">// popup at custom position</span></div><div class="line">Â Â Â Â GRoot.inst.ShowPopup (aComponent);</div><div class="line">Â Â Â Â aComponent.SetXY (<span class="number">100</span>, <span class="number">100</span>);</div></pre></td></tr></table></figure>
<p>The window can also be popped up through ShowPopup, so the pop-up window also has the feature of clicking blank to close:</p>
 <figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">Window aWindow;</div><div class="line">Â Â Â Â GRoot.inst.ShowPopup (aWindow);</div><div class="line"></div><div class="line">Â Â Â Â <span class="comment">// The only difference from using aWindow.Show to display the window is that it has the function of clicking blank to close, there is no difference in other usage.</span></div></pre></td></tr></table></figure>
</li>
<li>
<p><code>HidePopup</code>By default, the pop-up component is automatically closed when the user clicks on a blank space. You can also call this API to close it manually. You can specify the Popup that needs to be closed. When no parameter is specified, all current popups are closed.</p>
</li>
</ul>
<p>The pop-up box will automatically close when you click on the blank space. If you want to be notified of this shutdown, you can listen to the event of moving out of the stage, for example:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="comment">//Unity/Cry</span></div><div class="line">    aComponent.onRemoveFromStage.Add(onPopupClosed);</div><div class="line"></div><div class="line">    <span class="comment">//AS3</span></div><div class="line">    aComponent.addEventListener(Event.REMOVED_FROM_STAGE, onPopupClosed);</div><div class="line"></div><div class="line">    <span class="comment">//Egret</span></div><div class="line">    aComponent.addEventListener(egret.Event.REMOVED_FROM_STAGE, <span class="keyword">this</span>.onPopupClosed, <span class="keyword">this</span>);</div><div class="line"></div><div class="line">    <span class="comment">//Laya</span></div><div class="line">    aComponent.<span class="keyword">on</span>(laya.events.Event.UNDISPLAY, <span class="keyword">this</span>, <span class="keyword">this</span>.onPopupClosed);</div><div class="line"></div><div class="line">    <span class="comment">//Cocos2dx</span></div><div class="line">    aComponent-&gt;addEventListener(UIEventType::Exit, CC_CALLBACK_1(AClass::onPopupClosed, this));</div><div class="line"></div><div class="line">    <span class="comment">//CocosCreator</span></div><div class="line">    aComponent.<span class="keyword">on</span>(fgui.Event.UNDISPLAY, <span class="keyword">this</span>.onPopupClosed, <span class="keyword">this</span>);</div></pre></td></tr></table></figure>
<h2 id="PopupMenu"><a class="header-anchor" href="#PopupMenu">Â¶</a> PopupMenu</h2>
<p>PopupMenu is a tool class provided by FairyGUI for implementing popup menus. First you need to make a menu component in the editor, click &quot;Resources-&gt; New Popup Menu â€¦&quot;, and then follow the wizard to complete. The key element in the menu component is named<code>list</code>For the list component, the overflow processing mode of the list should be selected as visible, because in general, the menu displays all items without scrolling.</p>
<p>After making the menu component, this menu can be generated and called in the code.</p>
<p>First set the global menu resources:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">UIConfig.popupMenu = <span class="string">"ui://package name/menu component name"</span>;</div><div class="line">Â Â Â Â </div><div class="line">Â Â Â Â <span class="comment">// if there is a design divider</span></div><div class="line">Â Â Â Â UIConfig.popupMenu_seperator = <span class="string">"ui://package name/menu separator"</span>;</div></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="comment">// If the constructor takes no parameters, it means using the resources defined in UIConfig.popupMenu.</span></div><div class="line">Â Â Â Â / / Can also take a parameter, specify the menu component resources used <span class="keyword">by</span> <span class="keyword">this</span> menu</div><div class="line">Â Â Â Â PopupMenu menu = <span class="keyword">new</span> PopupMenu ();</div><div class="line"></div><div class="line">Â Â Â Â <span class="comment">// If you want to modify the width of the menu.</span></div><div class="line">Â Â Â Â menu.contentPane.width = <span class="number">300</span>;</div><div class="line"></div><div class="line">Â Â Â Â <span class="comment">// Add a menu item and register the click callback function</span></div><div class="line">Â Â Â Â GButton item = menu.AddItem (<span class="string">"Title"</span>, MenuItemCallback);</div><div class="line">Â Â Â Â item.name = <span class="string">"item1"</span>;</div><div class="line"></div><div class="line">Â Â Â Â <span class="comment">// click callback function, context.data is the item that is currently clicked</span></div><div class="line">Â Â Â Â <span class="function"><span class="keyword">void</span> <span class="title">MenuItemCallback</span> (<span class="params">EventContext context</span>)</span></div><div class="line"><span class="function">Â Â Â Â </span>&#123;</div><div class="line">Â Â Â Â Â Â Â Â GButton item = (GButton) context.data);</div><div class="line">Â Â Â Â Â Â Â Â Debug.Log (item.name);</div><div class="line">Â Â Â Â &#125;</div><div class="line"></div><div class="line">Â Â Â Â <span class="comment">// CocosCreator version callback function, the first parameter is the clicked item</span></div><div class="line">Â Â Â Â MenuItemCallback (item, evt) &#123;</div><div class="line">Â Â Â Â &#125;</div><div class="line"></div><div class="line">Â Â Â Â <span class="comment">// Add divider</span></div><div class="line">Â Â Â Â menu.AddSeperator ();</div><div class="line"></div><div class="line">Â Â Â Â <span class="comment">// Setting menu items are grayed out</span></div><div class="line">Â Â Â Â menu.SetItemGrayed (<span class="string">"item1"</span>, <span class="literal">true</span>);</div></pre></td></tr></table></figure>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.css">
    
    <div class="footer">
      found mistake? Want to participate in editing?
      <a href="https://github.com/fairygui/en.fairygui.io/tree/master/src/guide/editor/popup.md" target="_blank">
        Edit this page on Github!
      </a>
    </div>
</div>

                
            </div>
            <script src="/docs/js/smooth-scroll.min.js"></script>
        

        <!-- main custom script for sidebars, version selects etc. -->        
        <script src="/docs/js/css.escape.js"></script>
        <script src="/docs/js/common.js"></script>
    </body>
</html>
