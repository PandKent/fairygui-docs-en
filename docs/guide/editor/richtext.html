
<!DOCTYPE html>
<html lang="en">
    <head>
    
        <title>FairyGUI - RichText</title>
    
        <meta charset="utf-8">
        <meta name="description" content="FairyGUI - Professional UI editor, cross-platform UI solution">
        <meta name="keywords" content="FairyGUI,FGUI,UI Editor,Unity GUI,Pixi GUI,Haxe GUI,Starling GUI,CryEngine UI,Havok Vision,Project Anarchy,C++ UI">
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <meta property="og:type" content="article">
        <meta property="og:title" content="RichText — FairyGUI">
        <meta property="og:description" content="FairyGUI - Professional UI editor, cross-platform UI solution">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="RichText — FairyGUI">
        <meta name="twitter:description" content="FairyGUI - Professional UI editor, cross-platform UI solution">


        <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>

        <!-- main page styles -->
        <link rel="stylesheet" href="/css/page.css">

        <!-- this needs to be loaded before guide's inline scripts -->
        <script src="/js/vue.min.js"></script>
        <script>window.PAGE_TYPE = "guide_editor"</script>
    </head>
    <body class="docs">        <div id="mobile-bar"  data-bg-text="FairyGUI" >
            <a class="menu-button"></a>
            <a class="logo" href="https://github.com/fairygui/FairyGUI-unity"></a>
        </div>
        <div id="bg"> <!--end tag in the `index.ejs`-->

<div id="header">
  <a id="logo" href="https://github.com/fairygui/">
    <img src="/images/github-white.png">
  </a>
  <ul id="nav">
    

	<li><a href="/" class="nav-link">Home</a></li>

<li><a href="/product/" class="nav-link">Product</a></li>
<li><a href="/guide/" class="nav-link current">Tutorials</a></li>
<li><a href="http://www.fairygui.com/api/" target="_blank"  class="nav-link">API</a></li>
<li><a href="/examples/" class="nav-link">Demo</a></li>
<li><a href="/showcase/" class="nav-link">Showcase</a></li>
<!--<li><a href="http://ask.fairygui.com/" target="_blank" class="nav-link">Q&A</a></li>-->
<li><a href="/about/" class="nav-link">About</a></li>
<li><a href="http://www.fairygui.com/" target="_self"  class="nav-link">中文</a><a class="nav-link"> / English</a></li>
  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    
    <div class="sidebar">
    <ul class="main-menu">
        

	<li><a href="/" class="nav-link">Home</a></li>

<li><a href="/product/" class="nav-link">Product</a></li>
<li><a href="/guide/" class="nav-link current">Tutorials</a></li>
<li><a href="http://www.fairygui.com/api/" target="_blank"  class="nav-link">API</a></li>
<li><a href="/examples/" class="nav-link">Demo</a></li>
<li><a href="/showcase/" class="nav-link">Showcase</a></li>
<!--<li><a href="http://ask.fairygui.com/" target="_blank" class="nav-link">Q&A</a></li>-->
<li><a href="/about/" class="nav-link">About</a></li>
<li><a href="http://www.fairygui.com/" target="_self"  class="nav-link">中文</a><a class="nav-link"> / English</a></li>
    </ul>
    <div class="list">
		<a class="become-backer" href="/about/donate.html">
            Donate
        </a>
        <h2>
            Guide
            <!--<select class="version-select">
                <option value="SELF" selected>editor</option>
            </select>-->
 		 
		  
		
        </h2>
        <ul class="menu-root">
            

	 			
	                
	                <li>
	                    <a href="/guide/index.html" class="sidebar-link">Introduction</a>
	                </li>
	            
	
	            
	                
	                <li>
	                    <a href="/guide/editor/index.html" class="sidebar-link">Editor Start</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/object.html" class="sidebar-link">Object</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/image.html" class="sidebar-link">Image</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/movieclip.html" class="sidebar-link">MovieClip</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/graph.html" class="sidebar-link">Graph</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/loader.html" class="sidebar-link">Loader</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/text.html" class="sidebar-link">Text</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/richtext.html" class="sidebar-link current">RichText</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/group.html" class="sidebar-link">Group</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/component.html" class="sidebar-link">Component</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/scrollpane.html" class="sidebar-link">ScrollPane</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/controller.html" class="sidebar-link">Controller</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/relation.html" class="sidebar-link">Relation System</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/label.html" class="sidebar-link">Label</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/button.html" class="sidebar-link">Button</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/combobox.html" class="sidebar-link">ComboBox</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/progressbar.html" class="sidebar-link">ProgressBar</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/slider.html" class="sidebar-link">Slider</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/scrollbar.html" class="sidebar-link">ScrollBar</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/list.html" class="sidebar-link">List</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/window.html" class="sidebar-link">Window</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/popup.html" class="sidebar-link">Popup</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/dragdrop.html" class="sidebar-link">Drag&Drop</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/transition.html" class="sidebar-link">Transition</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/adaptation.html" class="sidebar-link">Adaptation</a>
	                </li>
	            
	
	            
	                
	                
	                <li><h3>Unity</h3></li>
	                
	                <li>
	                    <a href="/guide/unity/index.html" class="sidebar-link">Unity Start</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/transform.html" class="sidebar-link">Unity Coordinate</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/atlas.html" class="sidebar-link">Atlas</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/font.html" class="sidebar-link">Font Handling</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/input.html" class="sidebar-link">Input processing</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/event.html" class="sidebar-link">Event System</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/insert3d.html" class="sidebar-link">Interspersed with 3D objects</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/uipainter.html" class="sidebar-link">Curved UI</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/drawcall.html" class="sidebar-link">DrawCall Optimization</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/lua.html" class="sidebar-link">Used in Lua</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/special.html" class="sidebar-link">Unity Features</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/faq.html" class="sidebar-link">Unity FAQ</a>
	                </li>
	            

	            
	                
	                
	                <li><h3>Cocos2dx</h3></li>
	                
	                <li>
	                    <a href="/guide/cocos2dx/index.html" class="sidebar-link">Cocos2dx Start</a>
	                </li>
	            
	            
	            
	                
	                
	                <li><h3>CryEngine</h3></li>
	                
	                <li>
	                    <a href="/guide/cry/index.html" class="sidebar-link">Cry Engine Start</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/cry/transform.html" class="sidebar-link">Cry-Coordinate</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/cry/input.html" class="sidebar-link">Cry-Input Processing</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/cry/event.html" class="sidebar-link">Cry-Event System</a>
	                </li>
	            
	            
	            
	                
	                
	                <li><h3>LayaAir</h3></li>
	                
	                <li>
	                    <a href="/guide/laya/index.html" class="sidebar-link">LayaAir Start</a>
	                </li>
	            
	
	            
	                
	                
	                <li><h3>Egret</h3></li>
	                
	                <li>
	                    <a href="/guide/egret/index.html" class="sidebar-link">Egret Start</a>
	                </li>
	            

	            

	            

            
        </ul>
    </div>
</div>


<div class="content guide_editor with-sidebar ">
    
      <h1>RichText</h1>
    
    <p>富文本与普通文本的区别在于：</p>
<ul>
<li>普通文本不支持交互，鼠标/触摸感应是关闭的；富文本支持。</li>
<li>普通文本不支持链接和图文混排；富文本支持。</li>
<li>普通文本不支持html语法（但可以使用UBB实现不同样式）；富文本支持。</li>
</ul>
<p>点击主工具栏中的<img src="../../images/20170801151407.png" alt="">按钮，生成一个富文本。</p>
<h2 id="实例属性"><a href="#实例属性" class="headerlink" title="实例属性"></a>实例属性</h2><p><img src="../../images/20170801164910.png" alt=""></p>
<ul>
<li><p><code>文本</code> 设置文本内容。富文本可直接使用HTML语法。例如<img src="ui://包名/图片名" width="20" height="20">。注意，img标签需要使用“/&gt;”结束，而不是“&gt;”。当需要换行时，在编辑器里可以<strong>直接按回车</strong>，或者使用html标签“<br>”亦可。代码赋值需要换行可以用“\n”。某些引擎，例如LayaAir，可能不支持回车符换行，可以使用<br>试试。<br>这里的输入框比较小，如果要输入大文本，则可以在输入激活时，按CTRL+ENTER，然后会弹出一个专门用于输入文本的窗口。</p>
</li>
<li><p><code>字体</code> 设置文字使用的字体。你不需要每个文本设置一次字体。在项目属性里可以设置项目中所有文本默认使用的字体。运行时则通过UIConfig.defaultFont统一设置。如果某些文本确实需要指定特别的字体，可以点击右边的A按钮，选择其他字体，或者直接输入字体名称。如果需要使用位图字体，可以从资源库中把字体资源拖动到这里。</p>
</li>
<li><p><code>字体大小</code> 设置文字使用的字号。如果使用的是位图字体，你需要对位图字体设置“允许动态改变字号”，这里的选项才有效。</p>
</li>
<li><p><code>颜色</code> 设置文字颜色。如果使用的是位图字体，你需要对位图字体设置“允许动态改变颜色”，这里的选项才有效。</p>
</li>
<li><p><code>行距</code> 每行的像素间距。</p>
</li>
<li><p><code>字距</code> 每个字符的像素间距。</p>
</li>
<li><p><code>自动大小</code> </p>
<ul>
<li><code>自动宽度和高度</code> 文本不会自动换行，宽度和高度都增长到容纳全部文本。</li>
<li><code>自动高度</code> 文本使用固定宽度排版，到达宽度后自动换行，高度增长到容纳全部文本。</li>
<li><code>自动收缩</code> 文本使用固定宽度排版，到达宽度后文本自动缩小，使所有文本依然全部显示。如果内容宽度小于文本宽度，则不做任何处理。</li>
<li><code>无</code> 文本使用固定宽度和高度排版，不会自动换行。超出文本框范围的被剪裁。<em>（Laya、Egret、Unity平台没有开启此剪裁功能，也就是超出范围的依然会显示）</em></li>
</ul>
</li>
<li><p><code>对齐</code> 设置文本的对齐。</p>
</li>
<li><p><code>粗体</code> 设置文本为粗体。</p>
</li>
<li><p><code>斜体</code> 设置文本为斜体。</p>
</li>
<li><p><code>下划线</code> 设置文本为下划线。<em>（Laya平台不支持下划线）</em></p>
</li>
<li><p><code>单行</code> 设置文本为单行。单行文本不会自动换行，换行符也被忽略。</p>
</li>
<li><p><code>描边</code> 设置文本的描边效果。描边效果在各个引擎实现方式不相同：</p>
<ul>
<li>AS3/Starling 使用滤镜的方式实现；</li>
<li>Egret/Laya 使用H5引擎自身提供的功能；</li>
<li>Unity 使用额外的Mesh模拟描边效果。一般一个字符的Mesh含有4个顶点（两个三角形），使用描边效果后则增加到20个顶点（十个三角形）。</li>
</ul>
</li>
<li><p><code>投影</code> 设置文本的投影效果。投影效果可以看做是简化的描边效果，描边是所有方向，投影只有一个方向。</p>
</li>
<li><p><code>UBB</code> 设置文本支持UBB语法。关于UBB的说明，请参考普通文本里相关的描述。</p>
</li>
</ul>
<h2 id="GRichTextField"><a href="#GRichTextField" class="headerlink" title="GRichTextField"></a>GRichTextField</h2><p>富文本支持动态创建，例如：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">GRichTextField aRichTextField = <span class="keyword">new</span> GRichTextField();</div><div class="line">aRichTextField.SetSize(<span class="number">100</span>,<span class="number">100</span>);</div><div class="line">aRichTextField.text = <span class="string">"&lt;a href='xxx'&gt;Hello World&lt;/a&gt;"</span>;</div></pre></td></tr></table></figure>
<p>侦听富文本中链接点击的方法是（这个事件是冒泡的，也就是你可以不在富文本上侦听，在它的父元件或者祖父元件上侦听都是可以的）：</p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line"><span class="comment">//Unity/Cry, EventContext里的data就是href值。</span></div><div class="line">aRichTextField.onClickLink.Add(onClickLink);</div><div class="line"></div><div class="line"><span class="comment">//AS3/Egret，TextEvent.text就是href值。</span></div><div class="line">aRichTextField.addEventListener(TextEvent.LINK, onClickLink);</div><div class="line"></div><div class="line"><span class="comment">//Egret，TextEvent.text就是href值。</span></div><div class="line">aRichTextField.addEventListener(TextEvent.LINK, <span class="keyword">this</span>.onClickLink, <span class="keyword">this</span>);</div><div class="line"></div><div class="line"><span class="comment">//Laya, onClickLink的参数就是href值。</span></div><div class="line">aRichTextField.<span class="keyword">on</span>(laya.events.Event.LINK,<span class="keyword">this</span>,<span class="keyword">this</span>.onClickLink);</div><div class="line"></div><div class="line"><span class="comment">//Cocos2dx，EventContext.getDataValue().asString()就是href的值。</span></div><div class="line">aRichTextField-&gt;addEventListener(UIEventType::ClickLink, CC_CALLBACK_1(AClass::onClickLink, this));</div></pre></td></tr></table></figure>
<p>富文本最重要的功能是支持HTML解析和渲染。普通的文本样式标签，例如<code>FONT</code>、<code>B</code>、<code>I</code>、<code>U</code>这些一般都能很好的支持。其他一些对象标签，例如<code>A</code>、<code>IMG</code>等在各个引擎中支持的力度有所不同：</p>
<ul>
<li><code>AS3/Starling</code> 支持<code>A</code>标签和<code>IMG</code>标签，支持混排UI库里的图片/动画和外部图片。支持定制超级链接的样式：</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">aRichTextField.ALinkFormat = <span class="keyword">new</span> TextFormat(...);</div><div class="line">aRichTextField.AHoverFormat = <span class="keyword">new</span> TextFormat(...);</div></pre></td></tr></table></figure>
<ul>
<li><p><code>Egret</code> 支持<code>A</code>标签。不支持图文混排。</p>
</li>
<li><p><code>Laya</code> 支持<code>A</code>标签和<code>IMG</code>标签，只支持混排外部图片，<strong>不支持UI库里的图片和动画</strong>。Laya版本的GRichTextField的实质是包装了Laya的HTMLDivElement，可以通过以下方式访问：</p>
</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> div:HtmlDivElement = aRichTextField.div;</div></pre></td></tr></table></figure>
<ul>
<li><code>Unity</code> 支持<code>A</code>、<code>IMG</code>、<code>INPUT</code>、<code>SELECT</code>，<code>P</code>等。请参考<a href="#HTML语法">这里</a></li>
</ul>
<h2 id="HTML语法"><a href="#HTML语法" class="headerlink" title="HTML语法"></a>HTML语法</h2><p>Unity版本对HTML解析有比较完整的支持。</p>
<ul>
<li><code>IMG</code> 支持混排UI库里的图片/动画和外部图片。加载外部图片的能力由自定义Loader提供。例如：</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">&lt;img src=<span class="string">'ui://包名/图片名'</span>/&gt;</div><div class="line"></div><div class="line"><span class="comment">//还可以指定图片的大小</span></div><div class="line">&lt;img src=<span class="string">'ui://包名/图片名'</span> width=<span class="string">'20'</span> height=<span class="string">'20'</span>/&gt;</div></pre></td></tr></table></figure>
<ul>
<li><code>A</code> 显示一个超级链接。例如：</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">&lt;a href=<span class="string">'xxx'</span>&gt;link text&lt;/a&gt;</div></pre></td></tr></table></figure>
<p>支持定义超级链接的样式。如果是全局修改，可以使用HtmlParseOptions的静态属性，例如：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="comment">//注意：全局设置应该在创建富文本之前调用。</span></div><div class="line"><span class="comment">//设置整个项目中所有链接是否带下划线</span></div><div class="line">HtmlParseOptions.DefaultLinkUnderline = <span class="literal">false</span>;</div><div class="line"></div><div class="line"><span class="comment">//设置超级链接的颜色</span></div><div class="line">HtmlParseOptions.DefaultLinkColor = ...;</div><div class="line">HtmlParseOptions.DefaultLinkBgColor = ...;</div><div class="line">HtmlParseOptions.DefaultLinkHoverBgColor = ...;</div></pre></td></tr></table></figure>
<p>如果你只想定义单个富文本的链接样式，那么可以这样：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">HtmlParseOptions options = aRichTextField.richTextField.htmlParseOptions;</div><div class="line">options.linkUnderline = <span class="literal">false</span>;</div><div class="line">options.linkColor = ...;</div><div class="line">options.linkBgColor = ...;</div><div class="line">options.linkHoverBgColor = ...;</div></pre></td></tr></table></figure>
<ul>
<li><code>INPUT</code> 支持显示以下语法：</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="comment">//显示一个按钮</span></div><div class="line">&lt;input type=<span class="string">'button'</span> <span class="keyword">value</span>=<span class="string">'标题'</span>/&gt;</div><div class="line"></div><div class="line"><span class="comment">//显示一个输入框</span></div><div class="line">&lt;input type=<span class="string">'text'</span> <span class="keyword">value</span>=<span class="string">'文本内容'</span>/&gt;</div></pre></td></tr></table></figure>
<p>如果需要显示按钮，需要先定义按钮对应的资源，否则无法显示。例如：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">HtmlButton.resource = <span class="string">"ui://包名/按钮名"</span>;</div></pre></td></tr></table></figure>
<p>对于输入框，可以定义输入框的边框颜色和边框大小，例如：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">HtmlInput.defaultBorderSize = <span class="number">2</span>;</div><div class="line">HtmlInput.defaultBorderColor = ...;</div></pre></td></tr></table></figure>
<ul>
<li><code>SELECT</code> 是使用该标签可以显示一个下拉选择框。例如：</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">&lt;<span class="keyword">select</span> name=<span class="string">''</span>&gt;</div><div class="line">    &lt;option <span class="keyword">value</span>=<span class="string">'1'</span>&gt;<span class="number">1</span>&lt;/option&gt;</div><div class="line">    &lt;option <span class="keyword">value</span>=<span class="string">'2'</span>&gt;<span class="number">2</span>&lt;/option&gt;</div><div class="line">&lt;/<span class="keyword">select</span>&gt;</div></pre></td></tr></table></figure>
<p>在使用下拉框前，需要先定义下拉框对应的资源，否则无法显示。例如：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">HtmlSelect.resource = <span class="string">"ui://包名/下拉框组件名"</span>;</div></pre></td></tr></table></figure>
<ul>
<li><code>P</code> 例如显示一张居中的图片：</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">&lt;p align=<span class="string">'center'</span>&gt;&lt;img src=<span class="string">''</span>/&gt;&lt;/p&gt;</div></pre></td></tr></table></figure>
<p>默认情况下，GRichTextField将文本当做HTML片段处理，即对于空格、回车等空白字符是保留的。如果你希望当做完整的HTML处理，不保留空白，可以用以下几种方式：</p>
<ul>
<li>使用HtmlParseOptions：</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">HtmlParseOptions options = aRichTextField.richTextField.htmlParseOptions;</div><div class="line">options.ignoreWhiteSpace = <span class="literal">true</span>;</div></pre></td></tr></table></figure>
<ul>
<li>将文本内容使用HTML或BODY标签包裹，例如：</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">aRichTextField.text = <span class="string">"&lt;body&gt;text  &lt;/body&gt;"</span>;</div></pre></td></tr></table></figure>
<p>如果要访问HTML中的对象，可以使用以下的方式：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="comment">//当前文本中具有的HTML元素数量</span></div><div class="line"><span class="keyword">int</span> cnt = aRichTextField.richTextField.htmlElementCount;</div><div class="line"></div><div class="line"><span class="comment">//获得指定索引的HTML元素，0=&lt;index&lt;cnt</span></div><div class="line">HtmlElement element = aRichTextField.richTextField.GetHtmlElementAt(index);</div><div class="line"></div><div class="line"><span class="comment">//获得指定名称的HTML元素。名称由HTML元素里的name属性指定。</span></div><div class="line">element = aRichTextField.richTextField.GetHtmlElement(elementName);</div><div class="line"></div><div class="line"><span class="comment">//获得HTML元素对应的HTML对象。HTML对象的类型有HtmlImage、HtmlLink、HtmlInput等。</span></div><div class="line">IHtmlObject htmlObject = (IHtmlObject)element.htmlObject;</div><div class="line"><span class="keyword">if</span>(element.type==HtmlElementType.Image)</div><div class="line">&#123;</div><div class="line">    HtmlImage image = (HtmlImage)htmlObject;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>又例如，如果要制作鼠标移到链接上显示信息的效果：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="keyword">int</span> cnt = richText.htmlObjectCount;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cnt;i++) </div><div class="line">&#123;</div><div class="line">    IHtmlObject obj = richText.GetHtmlObjectAt(i);</div><div class="line">    <span class="keyword">if</span>(obj <span class="keyword">is</span> HtmlLink) </div><div class="line">    &#123;</div><div class="line">        ((HtmlLink)obj).shape.onRollOver.Add(onLinkRollOver);</div><div class="line">        ((HtmlLink)obj).shape.onRollOut.Add(onLinkRollOut);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//你可以在RollOver和RollOut的处理里调用GRoot.inst.ShowPopup、GRoot.inst.ShowTooltips或者其他处理。</span></div></pre></td></tr></table></figure>
<p>你也可以扩展实现自己的IHtmlObject。你需要自己实现一个IHtmlPageContext接口，然后赋值给RichTextField的htmlPageContext属性。详细可阅读源码。</p>

    
    <div class="footer">
      found mistake? Want to participate in editing?
      <a href="https://github.com/fairygui/en.fairygui.io/tree/master/src/guide/editor/richtext.md" target="_blank">
        Edit this page on Github!
      </a>
    </div>
</div>

                
            </div>
            <script src="/js/smooth-scroll.min.js"></script>
        

        <!-- main custom script for sidebars, version selects etc. -->        
        <script src="/js/css.escape.js"></script>
        <script src="/js/common.js"></script>
    </body>
</html>
