
<!DOCTYPE html>
<html lang="en">
    <head>
    
        <title>FairyGUI - Window</title>
    
        <meta charset="utf-8">
        <meta name="description" content="FairyGUI - Professional UI editor, cross-platform UI solution">
        <meta name="keywords" content="FairyGUI,FGUI,UI Editor,Unity GUI,Pixi GUI,Haxe GUI,Starling GUI,CryEngine UI,Havok Vision,Project Anarchy,C++ UI,MonoGame UI,Cocos Creator,Corona">
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <meta property="og:type" content="article">
        <meta property="og:title" content="Window — FairyGUI">
        <meta property="og:description" content="FairyGUI - Professional UI editor, cross-platform UI solution">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="Window — FairyGUI">
        <meta name="twitter:description" content="FairyGUI - Professional UI editor, cross-platform UI solution">


        <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>

        <!-- main page styles -->
        <link rel="stylesheet" href="/css/page.css">

        <!-- this needs to be loaded before guide's inline scripts -->
        <script src="/js/vue.min.js"></script>
        <script>window.PAGE_TYPE = "guide_editor"</script>
    </head>
    <body class="docs">        <div id="mobile-bar"  data-bg-text="FairyGUI" >
            <a class="menu-button"></a>
            <a class="logo" href="https://github.com/fairygui/FairyGUI-unity"></a>
        </div>
        <div id="bg"> <!--end tag in the `index.ejs`-->

<div id="header">
  <a id="logo" href="https://github.com/fairygui/">
    <img src="/images/github-white.png">
  </a>
  <ul id="nav">
    

	<li><a href="/" class="nav-link">Home</a></li>

<li><a href="/product/" class="nav-link">Product</a></li>
<li><a href="/service/" class="nav-link">Service</a></li>
<li><a href="/guide/" class="nav-link current">Tutorials</a></li>
<li><a href="http://www.fairygui.com/api/" target="_blank"  class="nav-link">API</a></li>
<li><a href="/examples/" class="nav-link">Demo</a></li>
<li><a href="/showcase/" class="nav-link">Showcase</a></li>
<li><a href="http://ask.fairygui.com/" target="_blank" class="nav-link">Q&A</a></li>
<li><a href="/about/" class="nav-link">About</a></li>
<li><a href="http://www.fairygui.com/" target="_self"  class="nav-link">中文</a><a class="nav-link"> / English</a></li>
  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    
    <div class="sidebar">
    <ul class="main-menu">
        

	<li><a href="/" class="nav-link">Home</a></li>

<li><a href="/product/" class="nav-link">Product</a></li>
<li><a href="/service/" class="nav-link">Service</a></li>
<li><a href="/guide/" class="nav-link current">Tutorials</a></li>
<li><a href="http://www.fairygui.com/api/" target="_blank"  class="nav-link">API</a></li>
<li><a href="/examples/" class="nav-link">Demo</a></li>
<li><a href="/showcase/" class="nav-link">Showcase</a></li>
<li><a href="http://ask.fairygui.com/" target="_blank" class="nav-link">Q&A</a></li>
<li><a href="/about/" class="nav-link">About</a></li>
<li><a href="http://www.fairygui.com/" target="_self"  class="nav-link">中文</a><a class="nav-link"> / English</a></li>
    </ul>
    <div class="list">
		<a class="become-backer" href="/about/donate.html">
            Donate
        </a>
        <h2>
            Guide
            <!--<select class="version-select">
                <option value="SELF" selected>editor</option>
            </select>-->
 		 
		  
		
        </h2>
        <ul class="menu-root">
            

	 			
	                
	                <li>
	                    <a href="/guide/index.html" class="sidebar-link">Introduction</a>
	                </li>
	            
	
	            
	                
	                <li>
	                    <a href="/guide/editor/index.html" class="sidebar-link">Editor Start</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/object.html" class="sidebar-link">Object</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/image.html" class="sidebar-link">Image</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/movieclip.html" class="sidebar-link">MovieClip</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/graph.html" class="sidebar-link">Graph</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/loader.html" class="sidebar-link">Loader</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/text.html" class="sidebar-link">Text</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/richtext.html" class="sidebar-link">RichText</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/group.html" class="sidebar-link">Group</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/component.html" class="sidebar-link">Component</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/scrollpane.html" class="sidebar-link">ScrollPane</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/controller.html" class="sidebar-link">Controller</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/relation.html" class="sidebar-link">Relation System</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/label.html" class="sidebar-link">Label</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/button.html" class="sidebar-link">Button</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/combobox.html" class="sidebar-link">ComboBox</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/progressbar.html" class="sidebar-link">ProgressBar</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/slider.html" class="sidebar-link">Slider</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/scrollbar.html" class="sidebar-link">ScrollBar</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/list.html" class="sidebar-link">List</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/window.html" class="sidebar-link current">Window</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/popup.html" class="sidebar-link">Popup</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/dragdrop.html" class="sidebar-link">Drag&Drop</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/transition.html" class="sidebar-link">Transition</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/adaptation.html" class="sidebar-link">Adaptation</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/guide/editor/upgrade_binary_format.html" class="sidebar-link">Binary Package Format</a>
	                </li>
	            
	
	            
	                
	                
	                <li><h3>SDK</h3></li>
	                
	                <li>
	                    <a href="/guide/sdk/laya.html" class="sidebar-link">LayaAir</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/sdk/egret.html" class="sidebar-link">Egret</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/sdk/cocos2dx.html" class="sidebar-link">Cocos2dx</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/sdk/creator.html" class="sidebar-link">Cocos Creator</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/sdk/cryengine.html" class="sidebar-link">Cry Engine</a>
	                </li>
	            

	            
	                
	                
	                <li><h3>SDK - Unity</h3></li>
	                
	                <li>
	                    <a href="/guide/unity/index.html" class="sidebar-link">Unity Start</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/transform.html" class="sidebar-link">Unity Coordinate</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/atlas.html" class="sidebar-link">Atlas</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/font.html" class="sidebar-link">Font Handling</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/input.html" class="sidebar-link">Input processing</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/event.html" class="sidebar-link">Event System</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/insert3d.html" class="sidebar-link">Interspersed with 3D objects</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/uipainter.html" class="sidebar-link">Curved UI</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/drawcall.html" class="sidebar-link">DrawCall Optimization</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/lua.html" class="sidebar-link">Used in Lua</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/special.html" class="sidebar-link">Unity Features</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/guide/unity/faq.html" class="sidebar-link">Unity FAQ</a>
	                </li>
	            

            
        </ul>
    </div>
</div>


<div class="content guide_editor with-sidebar ">
    
      <h1>Window</h1>
    
    <p>A window is a special extension of a component. <strong>There is no concept of a window in the editor because the window can set any component as its display content.</strong> <code>Window</code> = Content Component + Window Management API.</p>
<h2 id="Design-Window"><a href="#Design-Window" class="headerlink" title="Design Window"></a>Design Window</h2><p>The window content component needs to be edited in the editor. Usually the window will include a title bar that can be used for dragging, a close button, and so on. FairyGUI uses convention names to associate some common window functions with the components we define. First, you need to place a component named <code>frame</code> inside the window content component, which will be the background of the window or become the frame. The extension of this component is usually chosen to be “tag”.</p>
<p><img src="../../images/20170807161046.png" alt=""></p>
<p>This frame component is made in the following ways:</p>
<ul>
<li><p><code>closeButton</code> 一A button named <code>closeButton</code> will automatically be used as the window’s close button.</p>
</li>
<li><p><code>dragArea</code> 一A graphic named <code>dragArea</code> (with the type set to blank) will automatically be used as the detection drag area of the window. When the user presses and drags in this area, the window is dragged.</p>
</li>
<li><p><code>contentArea</code> 一A graphic named <code>contentArea</code> (with the type set to blank) will be used as the main content area of the window, which is only used for <code>ShowModalWait</code>. When <code>ShowModalWait</code> is called, the window will be locked. If contentArea is set, only the area specified by <code>contentArea</code> will be locked, otherwise the entire window will be locked. If you want the window to still be dragged and closed in the modalWait state, then don’t let the <code>contentArea</code> override the title bar area.</p>
</li>
</ul>
<p>Note that the above conventions are optional. Whether the component frame is included or whether the component frame contains the agreed function components does not affect the normal display and shutdown of the window.</p>
<h2 id="Use-Window"><a href="#Use-Window" class="headerlink" title="Use Window"></a>Use Window</h2><p>Once the content component is created, the runtime can use the following methods to create and use the window:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">Window win = <span class="keyword">new</span> Window();</div><div class="line">win.contentPane = UIPackage.CreateObject(<span class="string">"包名"</span>, <span class="string">"内容组件名"</span>).asCom;</div><div class="line">win.Show();</div></pre></td></tr></table></figure>
<p>In addition, FairyGUI provides a mechanism for dynamic window creation. Dynamic creation means that only the resources that the window needs to be used are initially specified, and the contents of the window are actually started when the window needs to be displayed. First you need to call <code>AddUISource</code> in the window’s constructor. This method requires a parameter of type <code>IUISource</code>, and <code>IUISource</code> is an interface, and the user needs to implement the logic of loading the relevant UI package. The IUISource’s loading method will be called before the window is first displayed, and will wait until the loading is complete before returning to execute <code>OnInit</code>, and the window will be displayed.</p>
<p>Call <code>Show</code> to display the flow of the window:</p>
<p><img src="../../images/ddd.png" alt=""></p>
<p>If you need to play an animation when the window is displayed, override <code>doShowAnimation</code> to write your animation code and call <code>onShown</code> after the animation ends.<br>Override <code>onShown</code> to write other business logic that needs to be processed when the window is displayed.</p>
<p>Call <code>Hide</code> to hide the window:</p>
<p><img src="../../images/ddd2.png" alt=""></p>
<p>If you need to play an animation when the window is hidden, override <code>doHideAnimation</code> to write your animation code and call <code>HideImmediately</code> at the end of the animation.（<strong>Note that this is instead of calling onHide directly!</strong>)<br>Override <code>onHide</code> to write other business logic that needs to be processed when the window is hidden.</p>
<h2 id="Window"><a href="#Window" class="headerlink" title="Window"></a>Window</h2><ul>
<li><p><code>Show</code> Display window.</p>
</li>
<li><p><code>Hide</code> Hide the window. The window will not be destroyed, just hidden.</p>
</li>
<li><p><code>isShowing</code> Gets whether the window is displayed.</p>
</li>
<li><p><code>modal</code> Set whether the window is a modal window. The modal window will prevent the user from clicking on the content behind any modal window. When the modal window is displayed, the modal window can be automatically covered with a layer of gray color. This color can be customized:</p>
</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Unity</span></div><div class="line">UIConfig.modalLayerColor = <span class="keyword">new</span> Color(<span class="number">0</span>f, <span class="number">0</span>f, <span class="number">0</span>f, <span class="number">0.4</span>f);</div><div class="line"></div><div class="line"><span class="comment">// AS3</span></div><div class="line">UIConfig.modalLayerColor = <span class="number">0x333333</span>;</div><div class="line">UIConfig.modalLayerAlpha = <span class="number">0.2</span>;</div></pre></td></tr></table></figure>
<p>If you don’t need this gray effect, set the transparency to 0.</p>
<ul>
<li><code>ShowModalWait</code> Lock the window and do not allow any action. A prompt can be displayed when locked, the resource of this prompt is specified by the following settings:</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">UIConfig.windowModalWaiting = <span class="string">"ui://PackageName/ComponentName"</span>;</div></pre></td></tr></table></figure>
<p>This component will adjust to the same size as the <code>contentArea</code>.</p>
<ul>
<li><code>CloseModalWait</code> Cancel the lock of the window.</li>
</ul>
<p><strong>Window Sorting</strong></p>
<p>By default, <code>Window</code> has the function of automatic sorting by clicking, that is, when you click on a window, the system will automatically refer the window to the front of all windows, which is the specification of all window systems. But you can turn off this feature:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">UIConfig.bringWindowToFrontOnClick = <span class="literal">false</span>;</div></pre></td></tr></table></figure>
<p><strong>Window Management</strong></p>
<p>GRoot provides some common APIs for window management.</p>
<ul>
<li><code>BringToFront</code> Put the window to the front of all windows.</li>
<li><code>CloseAllWindows</code> Hide all windows. Note that they are not destroyed.</li>
<li><code>CloseAllExceptModals</code> Hide all non-modal windows.</li>
<li><code>GetTopWindow</code> Returns the window currently displayed at the top.</li>
<li><code>hasModalWindow</code> Is there a modal window currently displayed?</li>
</ul>
<p><strong>What’s the difference between directly adding components to GRoot and using Window？</strong><br><code>GRoot</code> is the root container of the 2D UI. When we create the top UI interface through <code>UIPackage.CreateObject</code>, add it to <code>GRoot</code>. For example, the login interface of the game, the main interface, etc., the characteristics of such interfaces are at the “bottom” layer of the game, and relatively fixed.</p>
<p>The essence of <code>Window</code> is also the top-level UI interface dynamically created by <code>UIPackage.CreateObject</code>, but it provides common window features, such as automatic sorting, show/hide process, mode window, etc. A dialog interface for games, such as character stats, inventories, mailboxes, and the like. This type of interface is characterized by the “upper” layers of the game and is frequently switched.</p>

    
    <div class="footer">
      found mistake? Want to participate in editing?
      <a href="https://github.com/fairygui/en.fairygui.io/tree/master/src/guide/editor/window.md" target="_blank">
        Edit this page on Github!
      </a>
    </div>
</div>

                
            </div>
            <script src="/js/smooth-scroll.min.js"></script>
        

        <!-- main custom script for sidebars, version selects etc. -->        
        <script src="/js/css.escape.js"></script>
        <script src="/js/common.js"></script>
    </body>
</html>
